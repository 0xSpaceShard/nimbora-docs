"use strict";(self.webpackChunknimbora_yield_dex=self.webpackChunknimbora_yield_dex||[]).push([[968],{5012:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>d});var s=n(7624),i=n(2172);const o={id:"deposit",title:"Depositing into strategy",sidebar_position:3},a=void 0,r={id:"sdks/sdk/guides/deposit",title:"Depositing into strategy",description:"Depositing tokens into the Layer 2 Token Manager contract is achieved by calling the deposit function. This function is capable of executing a multi-call under certain conditions.",source:"@site/docs/sdks/sdk/guides/depositing_strategy.md",sourceDirName:"sdks/sdk/guides",slug:"/sdks/sdk/guides/deposit",permalink:"/docs/sdks/sdk/guides/deposit",draft:!1,unlisted:!1,editUrl:"https://github.com/0xSpaceShard/nimbora_yields_l2/docs/sdks/sdk/guides/depositing_strategy.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"deposit",title:"Depositing into strategy",sidebar_position:3},sidebar:"sdkSidebar",previous:{title:"Using the Token Manager",permalink:"/docs/sdks/sdk/guides/token_manager"},next:{title:"Withdrawing from strategy",permalink:"/docs/sdks/sdk/guides/withdraw"}},c={},d=[];function l(e){const t={code:"code",p:"p",pre:"pre",...(0,i.M)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["Depositing tokens into the Layer 2 Token Manager contract is achieved by calling the ",(0,s.jsx)(t.code,{children:"deposit"})," function. This function is capable of executing a ",(0,s.jsx)(t.code,{children:"multi-call"})," under certain conditions."]}),"\n",(0,s.jsxs)(t.p,{children:["A ",(0,s.jsx)(t.code,{children:"multi-call"})," is a type of transaction that allows you to perform multiple actions within a single transaction. In this context, it is executed if the current allowance, or the amount of tokens that the Token Manager contract is authorized to withdraw from the user's account, is insufficient to cover the deposit."]}),"\n",(0,s.jsxs)(t.p,{children:["When the ",(0,s.jsx)(t.code,{children:"deposit"})," function is called, if the amount of tokens the user wants to deposit exceeds the current allowance, the function will first call the ",(0,s.jsx)(t.code,{children:"approve"})," function to increase the allowance to cover the deposit amount, and then call the ",(0,s.jsx)(t.code,{children:"transfer"})," function to transfer the tokens."]}),"\n",(0,s.jsxs)(t.p,{children:["This sequence of actions is packaged into a single transaction, hence the term ",(0,s.jsx)(t.code,{children:"multi-call"}),"."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:'...\ntry {\n    const { shares, hash } = await tokenManager.deposit({\n        amount: "100",\n        receiver: account.address, // The shares receiver account address.\n        referral: account.address, // The referral account address.\n        onTxStageChange: txStageChangeCallback, // Optional callback for getting information about transaction stage\n    })\n} catch (e) {\n    // Handle Errors\n}\n'})})]})}function u(e={}){const{wrapper:t}={...(0,i.M)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},2172:(e,t,n)=>{n.d(t,{I:()=>r,M:()=>a});var s=n(1504);const i={},o=s.createContext(i);function a(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);